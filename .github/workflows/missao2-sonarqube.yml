
name: Missao 2 ‚Äî CI Multi-OS + Seguran√ßa (Sonar)

on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]
  workflow_dispatch:

permissions:
  contents: read
  pull-requests: read

# üîÅ Preencha com os valores do seu projeto no SonarCloud:
#   - SONAR_PROJECT_KEY: Administration ‚Üí Update Key
#   - SONAR_ORG: nome da sua organization (topo/selector do SonarCloud)
env:
  SONAR_PROJECT_KEY: douglasdeveza_projeto-pratico
  SONAR_ORG: douglasdeveza

jobs:
  # 1) Hello World no Windows
  hello-windows:
    name: Hello World - Windows
    runs-on: windows-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Hello Windows
        run: echo "Hello World from Windows"

  # 2) Hello World no Linux
  hello-linux:
    name: Hello World - Linux
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Hello Linux
        run: echo "Hello World from Linux"

  # 3) Sonar no Windows (via CLI - sem container)
  sonar-windows:
    name: Sonar Scan - Windows (CLI)
    runs-on: windows-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      # SonarScanner precisa de Java
      - name: Setup Java (Temurin 17)
        uses: actions/setup-java@v4
        with:
